  <div id="random-page" class="page">
    <div class="page-header">
      <div class="placeholder"></div>
      <h2><i class="fa-solid fa-dice"></i>美食隨機選</h2>
      <div class="placeholder"></div>
    </div>
    <div class="page-content">
      <div id="random-picker-container">
        <div id="picker-arrow"></div>
        <div id="picker-wheel">
          <div id="picker-result">?</div>
        </div>
        <button class="btn" id="random-pick-btn" onclick="startRandomPick()">開始抽籤！</button>
        <p id="random-status-text" class="placeholder-text"></p>
      </div>
    </div>
  </div>
  
  <div id="add-review-page" class="page">
    <div class="page-header">
      <div class="placeholder"></div>
      <h2><i class="fa-solid fa-pencil"></i>新增美食評論</h2>
      <div class="placeholder"></div>
    </div>
    <div class="page-content">
      <div class="form-group">
        <label for="review-restaurant-name">餐廳名稱</label>
        <input type="text" id="review-restaurant-name" placeholder="輸入吃過的餐廳" required>
      </div>
      <div class="form-group">
        <label for="review-meal-items">餐點項目</label>
        <textarea id="review-meal-items" placeholder="吃了什麼好料？ (例如：小籠包、牛肉麵)"></textarea>
      </div>
      <div class="form-group">
        <label for="review-cost">花費金額 (NT$)</label>
        <input type="number" id="review-cost" placeholder="大約花了多少錢？" min="0">
      </div>
      <div class="form-group">
        <div class="form-group-label">喜愛程度</div>
        <div class="rating-hearts" id="review-rating" data-rating="0">
          <i class="fa-solid fa-heart" data-value="1"></i>
          <i class="fa-solid fa-heart" data-value="2"></i>
          <i class="fa-solid fa-heart" data-value="3"></i>
          <i class="fa-solid fa-heart" data-value="4"></i>
          <i class="fa-solid fa-heart" data-value="5"></i>
        </div>
      </div>
      <div class="form-group">
        <label for="review-content">評論內容 (會成為貼文)</label>
        <textarea id="review-content" placeholder="分享你的心得、推薦或建議..."></textarea>
      </div>
      <div class="form-group">
        <div class="form-group-label">新增照片</div>
        <div class="photo-upload-area">
          <div class="btn-upload" onclick="photoManager && photoManager.handlePhotoSelection('gallery')">
            <i class="fa-solid fa-images"></i> 從相簿選擇
          </div>
          <div class="btn-upload" onclick="photoManager && photoManager.handlePhotoSelection('camera')">
            <i class="fa-solid fa-camera"></i> 開啟相機
          </div>
        </div>
        <div id="photo-preview-container" class="photo-preview-container"></div>
        <div id="upload-progress" class="upload-progress" style="display: none;">
          <div class="upload-progress-bar"></div>
        </div>
      </div>
      <button class="btn" onclick="saveReviewWithPhotos(event)">儲存評論與貼文</button>
    </div>
  </div>
  
  <div id="challenge-page" class="page">
    <div class="page-header">
      <div class="placeholder"></div>
      <h2><i class="fa-solid fa-trophy"></i>美食挑戰榜</h2>
      <div class="placeholder"></div>
    </div>
    <div class="page-content" id="challenge-list-container"></div>
  </div>
  
  <div id="profile-page" class="page">
    <div class="page-header">
      <div class="placeholder"></div>
      <h2 id="profile-header"><i class="fa-solid fa-user"></i>個人檔案</h2>
      <a id="profile-login-btn" class="header-action" style="display: none;" onclick="showPage('login-page')">登入/註冊</a>
      <a id="profile-logout-btn" class="header-action" style="display: none;" onclick="handleSignOut()">登出</a>
    </div>
    <div class="profile-tabs">
      <button class="tab-btn active" onclick="showProfileTab('accounting', this)">記帳顯示</button>
      <button class="tab-btn" onclick="showProfileTab('posts', this)">我的貼文</button>
      <button class="tab-btn" onclick="showProfileTab('favorites', this)">最愛餐廳</button>
      <button class="tab-btn" onclick="showProfileTab('friends', this)">好友名單</button>
      <button class="tab-btn" onclick="showProfileTab('analytics', this)">數據分析</button>
    </div>
    <div class="page-content" style="padding-top:0;">
      <div id="accounting-content" class="tab-content active"></div>
      <div id="posts-content" class="tab-content"></div>
      <div id="favorites-content" class="tab-content"></div>
      <div id="friends-content" class="tab-content"></div>
      <div id="analytics-content" class="tab-content"></div>
    </div>
  </div>
  
  <div id="login-page" class="page">
    <div class="page-header">
      <i class="fa-solid fa-chevron-left header-back-btn" onclick="goBack()"></i>
      <h2>會員登入</h2>
      <div class="placeholder"></div>
    </div>
    <div class="page-content">
      <div class="auth-form-container">
        <input type="email" id="login-email-input" placeholder="電子郵件" required>
        <input type="password" id="login-password-input" placeholder="密碼" required>
        <div id="login-error" class="auth-error-message"></div>
        <button class="btn-auth primary" onclick="handleSignIn()">登入</button>
        <div class="auth-separator">或</div>
        <button class="btn-auth secondary" onclick="handleGoogleSignIn()">
          <i class="fab fa-google"></i> 使用 Google 登入
        </button>
        <div class="auth-switch-link" onclick="showPage('register-page')">還沒有帳號？點此註冊</div>
      </div>
    </div>
  </div>
  
  <div id="register-page" class="page">
    <div class="page-header">
      <i class="fa-solid fa-chevron-left header-back-btn" onclick="goBack()"></i>
      <h2>註冊新帳號</h2>
      <div class="placeholder"></div>
    </div>
    <div class="page-content">
      <div class="auth-form-container">
        <input type="text" id="register-name-input" placeholder="姓名或暱稱" required>
        <input type="email" id="register-email-input" placeholder="電子郵件" required>
        <input type="password" id="register-password-input" placeholder="設定密碼 (至少6位數)" required>
        <div id="register-error" class="auth-error-message"></div>
        <button class="btn-auth primary" onclick="handleRegister()">註冊送出</button>
        <div class="auth-switch-link" onclick="showPage('login-page')">已經有帳號了？點此登入</div>
      </div>
    </div>
  </div>
</main>

<footer class="app-nav">
  <div class="nav-item active" onclick="showPage('map-page', this)">
    <i class="fa-solid fa-map-location-dot"></i><span>地圖</span>
  </div>
  <div class="nav-item" onclick="showPage('random-page', this)">
    <i class="fa-solid fa-dice"></i><span>隨機選</span>
  </div>
  <div class="nav-item" onclick="showPage('add-review-page', this)">
    <i class="fa-solid fa-plus-circle"></i><span>新增</span>
  </div>
  <div class="nav-item" onclick="showPage('challenge-page', this)">
    <i class="fa-solid fa-trophy"></i><span>挑戰榜</span>
  </div>
  <div class="nav-item" onclick="showPage('profile-page', this)">
    <i class="fa-solid fa-user"></i><span>個人</span>
  </div>
</footer>
